# Protect sensitive files
<Files "config.php">
    Require all denied
</Files>

<Files "*.db">
    Require all denied
</Files>

<FilesMatch "^\.">
    Require all denied
</FilesMatch>

# Cache static assets
<FilesMatch "\.(jpg|jpeg|png|gif|ico|css|js)$">
    Header set Cache-Control "public, max-age=2592000"
</FilesMatch>

# Compress text files
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css application/javascript application/json application/rss+xml
</IfModule>

# Protect sessions directory
<IfModule mod_authz_core.c>
    <DirectoryMatch "^.*/sessions/">
        Require all denied
    </DirectoryMatch>
</IfModule>
<IfModule !mod_authz_core.c>
    <DirectoryMatch "^.*/sessions/">
        Order deny,allow
        Deny from all
    </DirectoryMatch>
</IfModule>

# Optional: Pretty URLs
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [L,QSA]